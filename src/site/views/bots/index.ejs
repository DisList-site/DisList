<!DOCTYPE html>
<html>
    <%- include('../includes/head') %>
    <body>
        <%- include('../includes/header') %>
          <!-- ======= Hero Section ======= -->
          <section id="hero" class="hero d-flex align-items-center">
              
            <div class="container">
                <div class="row">
                    <div class="col-lg-6 d-flex flex-column justify-content-center">
                        <h1 data-aos="fade-up">Find the best discord bots for your server here</h1>
                        <h2 data-aos="fade-up" data-aos-delay="400"></h2>
                        <div data-aos="fade-up" data-aos-delay="600">
                            <div class="text-center text-lg-start">
                                <a href="#about" class="btn-get-started scrollto d-inline-flex align-items-center justify-content-center align-self-center">
                                    <span>View bots</span>
                                    <i class="bi bi-arrow-right"></i>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
  
        </section><!-- End Hero -->
        <main id="main">
            <!-- ======= About Section ======= -->
            <section id="about" class="about">
                
                <div class="container" data-aos="fade-up">
                    <div class="row gx-0">
                        <div class="col-lg-6 d-flex flex-column justify-content-center" data-aos="fade-up" data-aos-delay="100">
                            <div class="content">
                                <h3>Promoted bots</h3>
                                <p>
                                    <div class="card-deck">
                                    <% promotedBots.sort((a, b) => b.analytics.votes - a.analytics.votes).slice(0, 6).forEach((botDB) => { const bot = req.client.users.cache.get(botDB.botId); if(!bot) {return; } %>
                                    <div class="card text-center mb-3" style="max-width: 18rem;">
                                        <img class="card-img-top" src="<%= bot.displayAvatarURL({ size: 256, format: 'png' }) %>" alt="Bot avatar">
                                        <div class="card-body">
                                            <h5 class="card-title"><%= bot.tag %> <span class="badge bg-danger">Servers: <%= botDB.stats.serverCount === 0 ? "N/A" : botDB.stats.serverCount %></span></h5>
                                            <p class="card-text"><%= botDB.descriptions.short %></p>
                                            <a href="/bot/<%= bot.id %>" class="btn btn-primary">View Bot</a>
                                        </div>
                                    </div>
                                    <% }); %>
                                    </div>
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="container" data-aos="fade-up">
                    <div class="row gx-0">
                        <div class="col-lg-6 d-flex flex-column justify-content-center" data-aos="fade-up" data-aos-delay="200">
                            <div class="content">
                                <h3>Top voted bots</h3>
                                <p>
                                    <div class="card-deck">
                                    <% bots.sort((a, b) => b.analytics.votes - a.analytics.votes).slice(0, 6).forEach((botDB) => { const bot = req.client.users.cache.get(botDB.botId); if(!bot) {return; } %>
                                    <div class="card text-center mb-3" style="max-width: 18rem;">
                                        <img class="card-img-top" src="<%= bot.displayAvatarURL({ size: 256, format: 'png' }) %>" alt="Bot avatar">
                                        <div class="card-body">
                                            <h5 class="card-title"><%= bot.tag %> <span class="badge bg-danger">Servers: <%= botDB.stats.serverCount === 0 ? "N/A" : botDB.stats.serverCount %></span></h5>
                                            <p class="card-text"><%= botDB.descriptions.short %></p>
                                            <a href="/bot/<%= bot.id %>" class="btn btn-primary">View Bot</a>
                                        </div>
                                    </div>
                                    <% }); %>
                                    </div>
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="container" data-aos="fade-up">
                    <div class="row gx-0">
                        <div class="col-lg-6 d-flex flex-column justify-content-center" data-aos="fade-up" data-aos-delay="300">
                            <div class="content">
                                <h3>Newly added bots</h3>
                                <p>
                                    <div class="card-deck">
                                    <% bots.sort((a, b) => new Date(b.addedAt) - new Date(a.addedAt)).slice(0, 6).forEach((botDB) => { const bot = req.client.users.cache.get(botDB.botId); if(!bot) {return; } %>
                                    <div class="card text-center mb-3" style="max-width: 18rem;">
                                        <img class="card-img-top" src="<%= bot.displayAvatarURL({ size: 256, format: 'png' }) %>" alt="Bot avatar">
                                        <div class="card-body">
                                            <h5 class="card-title"><%= bot.tag %> <span class="badge bg-danger">Servers: <%= botDB.stats.serverCount === 0 ? "N/A" : botDB.stats.serverCount %></span></h5>
                                            <p class="card-text"><%= botDB.descriptions.short %></p>
                                            <a href="/bot/<%= bot.id %>" class="btn btn-primary">View bot</a>
                                        </div>
                                    </div>
                                    <% }); %>
                                    </div>
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </section><!-- End About Section -->
        </main>
        <%- include('../includes/footer') %>
    </body>
</html>
